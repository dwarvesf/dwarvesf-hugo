<!doctype html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Docker và những điều cần biết. &mdash; Dwarves Foundation</title>

    <link rel="stylesheet" href="/css/main.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/images/logo.png"/>
    <link href="http://devblog.dwarvesf.com//index.xml" rel="alternate" type="application/rss+xml" title="Dwarves Foundation" />
    <meta name="title" content="http://devblog.dwarvesf.com/">
    <link rel="canonical" href="http://devblog.dwarvesf.com/">
    <meta property="og:title" content="Docker và những điều cần biết."/>
    <meta property="og:url" content="http://devblog.dwarvesf.com/post/docker-introduction/"/>
    <meta property="og:image" content="http://devblog.dwarvesf.com/images/2015-08-08-docker-introduction.png"/>   
    <meta property="og:site_name" content="Dwarves Foundation">
</head>
<body>
    
<section class="site-nav">
    <header>
        <nav id="navigation">
            <a class="brand" href="/">
                <img src="/images/logo.png" alt="Inc">
            </a>
            <a href="/" class="home">Blog</a>
            
            <a href="http://dwarvesf.com/">About</a>
            <a></a>
        </nav>
        <nav class="tagline">
            
            
        </nav>
    </header>
</section>



<div class="article-cover">
    <div>
        <img src="/images/2015-08-08-docker-introduction.png" class="image">
    </div>
</div>

<article>

    <div class="container">
        <header>
            <div class="meta">
                By <address><a rel="author" href="https://www.facebook.com/ivkeanle" title="Iv Kean" target="_blank">Iv Kean</a></address> &mdash;
                <time pubdate datetime="2015-08-09" title="2015-08-09">August 09, 2015</time>
            </div>
            <h1 class="title">Docker và những điều cần biết.</h1>
            <h2 class="subtitle">Giới thiệu về docker.</h2>
        </header>

        <section>
            

<ul>
<li><p>Gần đây Docker đang gây được nhiều chú ý trong cộng đồng công nghệ thế giới, với nhiều hứa hẹn trong tương lai. Các hãng công nghệ lớn như Google, Amazon, Microsoft, IBM, Ebay… đã bắt đầu hỗ trợ Docker trên nền tảng của họ.</p></li>

<li><p>Vậy Docker là gì, có gì thú vị ?  Chúng ta hãy cùng nhau điểm qua một số điều dưới đây để hiểu hơn về Docker và có thể triển khai được website Golang được viết với framework Beego.</p></li>
</ul>

<h2 id="docker-là-gì:cdde93ef5507b118dc926636dcdb2b77">Docker là gì?</h2>

<ul>
<li>Docker là một nền tảng mở dành cho các lập trình viên, quản trị hệ thống dùng để xây dựng, vận chuyển và chạy các ứng dụng. Ban đầu viết bằng Python, hiện tại đã chuyển sang Go-lang.</li>
</ul>

<h2 id="vậy-docker-khác-gì-so-với-máy-ảo:cdde93ef5507b118dc926636dcdb2b77">Vậy docker khác gì so với máy ảo ?</h2>

<p>
<figure class="third right">
    
        <img src="/images/2015-08-09-screen-shoot-docker-compare-vm.png"  />
    
    
</figure>

</p>

<ul>
<li>Ở hình trên, ta có thể thấy như sau:

<ul>
<li>Máy ảo (virtual machine): mỗi máy ảo gồm các ứng dụng, các file nhị phân, thư viện, tất cả users hệ thống. Chúng tạo tạo nên một lượng dữ liệu rất lớn, có thể lên đến hơn 10GBs.</li>
<li>Với Docker container: chỉ chứa những ứng dụng và những thứ cần thiết để chạy ứng dụng, có khả năng share kernel với những container khác. Chúng chạy độc lập trên hệ thống. Chúng cũng không bị hạn chế bởi cấu hình máy nào, vì docker container có thể chạy trên bất kì máy tính, bất kì cấu hình, hoặc thậm chí trên cả cloud.</li>
</ul></li>
</ul>

<h2 id="các-thành-phần-của-docker:cdde93ef5507b118dc926636dcdb2b77">Các thành phần của Docker</h2>

<ol>
<li>Docker Engine: còn được gọi là Docker, dùng để tạo và chạy các “container”</li>
<li>Kitematic: là giao diện GUI cho Docker</li>
<li>Docker Hub: là 1 dịch vụ host public của Docker để quản lý các image của bạn.</li>
<li>Docker Compose: là 1 công cụ để tạo và chạy nhiều containers cùng lúc. Với Docker Compose, bạn chỉ việc định nghĩa các containers trên 1 file (text) và chạy 1 dòng lệnh duy nhất, sau đó mọi thứ sẽ được docker cài đặt, setup và chạy ứng dụng như ý bạn.</li>
<li>Docker Trusted Registry: là dịch vụ cung cấp private image.</li>
<li>Docker Registry: nơi để lưu trữ các images của cộng đồng Docker.</li>
</ol>

<h2 id="một-số-khái-niệm:cdde93ef5507b118dc926636dcdb2b77">Một số khái niệm</h2>

<ul>
<li>Image: là 1 đối tượng chứa sẵn cấu hình. Ví dụ: image có sẵn hệ điều hành ubuntu, image có sẵn Golang, … Các thao tác với image: build, run, remove</li>
<li>Container: là 1 đối tượng mà ứng dụng chạy trong đó. Container được tạo từ image. Các thao tác với container: ps, start, stop, restart, logs, remove</li>
<li>Dockerfile: là 1 file (text), để định nghĩa 1 image sẽ được tạo như thế nào, gồm các ứng dụng nào được cài sẵn bên trong đó.</li>
</ul>

<h2 id="tạo-web-golang-bằng-framework-beego-bằng-dockerfile:cdde93ef5507b118dc926636dcdb2b77">Tạo web Golang bằng framework Beego bằng Dockerfile</h2>

<ul>
<li>Ta bắt đầu với việc tạo 1 Dockerfile, ở đây tôi sử dụng “vi” để tạo file, với nội dung như sau:</li>
</ul>

<pre><code># vì ta chạy code golang nên ta cần image là google/golang có sẵn trên docker hub
FROM google/golang

# ta get source beego về
RUN go get github.com/astaxie/beego 
RUN go get github.com/beego/bee

# set vị trí path hiện tại
WORKDIR /gopath/src/

# tạo 1 project bằng lệnh bee new
RUN bee new app

# set vị trí path để chạy app beego
WORKDIR /gopath/src/app

# set port chạy app
EXPOSE 8080

# set lệnh để chạy app
CMD bee run
</code></pre>

<ul>
<li><p>Để biết thêm về syntax tạo 1 image bằng Dockerfile, các bạn có thể xem tại: <a href="https://docs.docker.com/articles/dockerfile_best-practices/">https://docs.docker.com/articles/dockerfile_best-practices/</a></p></li>

<li><p>Ta save file lại, và chạy lệnh:</p></li>
</ul>

<pre><code>docker build –t beego . (các bạn đừng quên dấu . phía cuối :D)
</code></pre>

<ul>
<li>Lệnh trên thực hiện các thao tác sau:

<ol>
<li>Đặt tag name cho image là beego.</li>
<li>Docker build image dựa trên file Dockerfile mà ta đang đứng ở path hiện tại.</li>
</ol></li>
</ul>

<p>
<figure class="third right">
    
        <img src="/images/2015-08-09-screen-shoot-docker-init-dockerfile.png"  />
    
    
</figure>

</p>

<ul>
<li>Ta kiểm tra các images được tạo bằng lệnh:</li>
</ul>

<pre><code>docker images
</code></pre>

<p>
<figure class="third right">
    
        <img src="/images/2015-08-09-screen-shoot-docker-images.png"  />
    
    
</figure>

</p>

<ul>
<li>Sau đó, ta chạy lệnh:</li>
</ul>

<pre><code>docker run –-name demo-beego-app –p 8080:8080 –d beego
</code></pre>

<ul>
<li><p>Lệnh trên thực hiện các thao tác sau:</p>

<ol>
<li>Set name (&ndash;name) cho container sẽ được tạo là demo-beego-app.</li>
<li>Đặt map port (-p) từ port bên ngoài (bên trái) 8080 vào port bên trong docker (bên phải) là 8080.</li>
<li>Detach container (-d) chạy background.</li>
</ol></li>

<li><p>Sau khi chạy lệnh trên, chúng ta đã có 1 web beego chạy trên docker container ☺. Giờ chúng ta log thử bằng browser:</p></li>
</ul>

<p>
<figure class="third right">
    
        <img src="/images/2015-08-09-screen-shoot-docker-beego.png"  />
    
    
</figure>

</p>

<ul>
<li><p>Bài viết ghi lại những hiểu biết của tôi trong quá trình tìm hiểu và sử dụng Docker còn khá cơ bản. Rất mong nhận được góp ý từ các bạn ☺.</p></li>

<li><p>Các bạn cũng có thể tìm hiểu ở trang chủ: <a href="https://docs.docker.com/index.html">https://docs.docker.com/index.html</a></p></li>
</ul>

            

<div class="social">
    <div>
        <a href="http://news.ycombinator.com/submit" class="hn-share-button">Vote on HN</a>
    </div>
    <div>
        <a href="https://twitter.com/share" class="twitter-share-button"  data-related="dwarvesf" data-text="Docker và những điều cần biết. - Giới thiệu về docker.">Tweet</a>
    </div>
    <div>
        <div class="fb-like" data-width="150" data-layout="button_count" data-action="like" data-show-faces="true" data-send="false"></div>
    </div>
</div>

        </section>

        <footer>
            <address>
               <img src="/images/ivkean.png">
                <p>Written by <strong><a rel="author" href="https://twitter.com/" title="Iv Kean" target="_blank">Iv Kean</a></strong><br>
                <span class="muted">Scouting Unit</span>
                </p>
            </address>

        </footer>

        
        <section>
            <div id="disqus_thread"></div>
<script type="text/javascript">
     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//dwarvesf.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

        </section>
        
    </div>
</article>

<footer class="site-footer">
    <div class="container">
        <nav>
            <a href="http://devblog.dwarvesf.com/">Dwarves Foundation</a> &middot;
            <a href="/">Blog</a> &middot;
            
            <a href="http://dwarvesf.com/">About</a>
        </nav>
        
        <nav class="social">
            
            <a href="https://twitter.com/dwarvesf" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter black"></i></a>
            
            
            <a href="https://github.com/dwarvesf" title="Follow on Github" target="_blank"><i class="icon icon-github black"></i></a>
            
            
            <a href="http://facebook.com/dwarvesf" title="Follow on Facebook" target="_blank"><i class="icon icon-facebook black"></i></a>
                
            <a href="/index.xml" title="RSS Feed">
                <i class="icon icon-rss black"></i>
            </a>
        </nav>
    </div>
</footer>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript" src="/js/main.js"></script>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<div id="fb-root"></div>

<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=1526296360976332";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<script>
    (function(d, t) {
        var g = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        g.src = '//hnbutton.appspot.com/static/hn.min.js';
        s.parentNode.insertBefore(g, s);
    }(document, 'script'));
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58452796-1', 'auto');
  ga('send', 'pageview');

</script>





  

</body>
</html>

